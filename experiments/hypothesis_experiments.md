# V7 최종 가설실험 설계 (Pre-Git)

## 🎯 실험 목적 (단일 문장)

> V7의 알파는 '예측'이 아니라 STB 이후 상태가 유지되는가를 측정·관리했기 때문에 발생한다.

---

## 가설 구조 요약

| 가설 | 내용 | 상태 |
|------|------|------|
| H1 | EE는 예측 지표이며, 수익과 무관하다 | ✅ 통과 |
| H2 | MFE는 예측이 아니라 상태 전이 관측치다 | ✅ 통과 |
| H3 | 손실은 예측 실패가 아니라 유지 실패다 | ✅ 통과 |
| H4 | SL 방어는 "컷"이 아니라 "조기 경고"여야 한다 | ✅ 통과 |
| H5 | 재진입은 필요 없고, 유지 측정으로 대체 가능하다 | 🔬 실험 필요 |

---

## H1 — EE는 예측 지표이며, 알파의 원인이 아니다

### 가설

EE는 진입 예측에는 의미 있어 보이지만, MFE 관리 이후에는 성과를 설명하지 못한다

### 실험 설계

- 동일 STB 진입
- 동일 MFE 트레일링
- EE 조건만 다르게

| 그룹 | 조건 |
|------|------|
| A | EE 없음 |
| B | EE ≥ 1.0 |
| C | EE ≥ 2.0 |

### 검증 지표
- EV
- 총 PnL
- LOSS 분해 (MFE<임계 vs 임계 이후)

### 통과 기준
- EE 제거(A)가 EV ≥ B,C
- EE 필터가 성능 저하 또는 무의미

### 결과: ✅ 통과 (EE 불필요 결론)

---

## H2 — MFE는 예측이 아니라 "상태 전이 관측치"다

### 가설

MFE ≥ X 이후에는 손실이 구조적으로 불가능해진다

### 실험 설계

MFE 임계점 스윕:

| MFE | MFE ≥ 임계 LOSS |
|-----|-----------------|
| 5pt | ? |
| 7pt | 0 |
| 9pt | 0 |

### 검증 지표
- MFE ≥ 임계 이후 LOSS 건수

### 통과 기준
- MFE ≥ 7 LOSS = 0
- 임계 이전 LOSS만 존재

### 결과: ✅ 통과 = "상태 전이" 증명

---

## H3 — 손실은 예측 실패가 아니라 "유지 실패"다

### 가설

모든 손실은 에너지 상태에 진입하지 못한 거래에서만 발생한다

### 실험 설계

LOSS 거래만 추출 → 분해:

| 분류 | 조건 |
|------|------|
| FAIL_START | MFE < 1 |
| FAIL_BUILD | 1 ≤ MFE < 7 |
| FAIL_STATE | MFE ≥ 7 |

### 검증 지표
- FAIL_STATE = 0 이어야 함

### 통과 기준
- 손실 100%가 FAIL_START/BUILD
- FAIL_STATE = 0

### 결과: ✅ 통과

---

## H4 — SL 방어는 "컷"이 아니라 "조기 경고"다

### 가설

손실을 줄이려면 빨리 끊는 것보다, 실패를 조기에 감지해야 한다

### 실험 설계

| 그룹 | 로직 |
|------|------|
| G0 | SL30 고정 |
| G1 | Hard Cut (n봉 컷) |
| G3 | Soft SL (4봉 + MFE<1.5 → SL-12) |

### 검증 지표
- EV
- 평균 손실
- 승률 감소폭

### 통과 기준
- Soft SL만 EV 개선
- Hard Cut은 EV 저하

### 결과: ✅ G3 통과

---

## H5 — 재진입은 필요 없고 "유지 측정"으로 대체 가능하다

### 가설

재진입을 시도하는 전략보다 상태 유지 측정 + 관리 전략이 우월하다

### 실험 설계

동일 STB 진입, 전략만 다르게:

| 전략 | 설명 |
|------|------|
| R | 재진입 허용 |
| P | 단일 진입 + 유지 점수 기반 관리 |

### 검증 지표
- 총 PnL
- 거래 수
- MDD
- EV 안정성

### 통과 기준
- P 전략이 PnL/안정성 우위
- 재진입의 정보 기여 = 0

### 결과: 🔬 실험 진행 필요

---

## 다음 단계

H5 실험을 위해:
1. Persistence Score 계산 코드 작성
2. 재진입 전략(R) vs 유지 관리 전략(P) 비교
3. 백테스트 데이터로 검증
